{"remainingRequest":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hequanshawu/code/dora-vue/Dora-Vue/src/components/Login&Register/LoginMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/src/components/Login&Register/LoginMain.vue","mtime":1634634732000},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/cache-loader/dist/cjs.js","mtime":1634793903993},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/babel-loader/lib/index.js","mtime":1634793907255},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/cache-loader/dist/cjs.js","mtime":1634793903993},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/vue-loader/lib/index.js","mtime":1634793909391}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkxvZ2luTWFpbiIsDQogIGRhdGEoKSB7DQogICAgdmFyIHZhbGlkYXRlVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAvLyDpqozor4HnlKjmiLflkI3nmoTmraPliJnooajovr7lvI8NCiAgICAgIGxldCByZWdMZXR0ZXIgPSAvXltBLVphLXowLTldKyQvOw0KDQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6L6T5YWl5L2g5rOo5YaM5pe255qE55So5oi35ZCN5ZGAficpKTsNCiAgICAgIH0gZWxzZSBpZiAocmVnTGV0dGVyLnRlc3QodmFsdWUpICE9PSB0cnVlKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign55So5oi35ZCN5LiN56ym5ZCI5ZWm77yBJykpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHZhciB2YWxpZGF0ZUVtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgLy8g6aqM6K+B6YKu566x55qE5q2j5YiZ6KGo6L6+5byPDQogICAgICBsZXQgcmVnRW1haWwgPSAvXltBLVphLXpcZF0rKFstXy5dW0EtWmEtelxkXSspKkAoW0EtWmEtelxkXStbLS5dKStbQS1aYS16XGRdezIsNH0kLzsNCg0KICAgICAgaWYgKHZhbHVlID09PSAnJykgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+i+k+WFpeS9oOazqOWGjOaXtueahOmCrueuseWRgH4nKSk7DQogICAgICB9IGVsc2UgaWYgKHJlZ0VtYWlsLnRlc3QodmFsdWUpICE9PSB0cnVlKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6YKu566x5LiN56ym5ZCI5ZWm77yBJykpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfQ0KICAgIH07DQogICAgdmFyIHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfovpPlhaXkvaDnmoTlr4bnoIHlkYB+JykpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHJldHVybiB7DQogICAgICBzd2ljdGg6IHRydWUsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgIGxvZ2luTWV0aG9kczogWyd1c2VybmFtZScsICdlbWFpbCddLA0KICAgICAgdXNlcm5hbWVGb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICByZW1lbWJlck1lOiBmYWxzZSwNCiAgICAgIH0sDQogICAgICBlbWFpbEZvcm06IHsNCiAgICAgICAgZW1haWw6ICcnLA0KICAgICAgICBwYXNzd29yZDogJycsDQogICAgICAgIHJlbWVtYmVyTWU6IGZhbHNlLA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHVzZXJuYW1lOiBbDQogICAgICAgICAge3ZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZSwgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICBlbWFpbDogWw0KICAgICAgICAgIHt2YWxpZGF0b3I6IHZhbGlkYXRlRW1haWwsIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXSwNCiAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICB7dmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzdWJtaXRGb3JtKGxvZ2luTWV0aG9kKSB7DQogICAgICAvLyDlvIDlkK/nmbvlvZXmjInpkq7nmoTliqDovb3liqjnlLsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICAvLyBheGlvc+W8guatpeS7u+WKoeW8uuihjOWPmOS4uuWQjOatpeS7u+WKoQ0KICAgICAgbGV0IGxvZ2luRnJvbSA9IG51bGw7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZSkNCiAgICAgIGlmIChsb2dpbk1ldGhvZCA9PT0gJ3VzZXJuYW1lJykgew0KICAgICAgICAvLyDlsIbooajljZXnmoTmlbDmja7ov5vooYzlsIHoo4UNCiAgICAgICAgbG9naW5Gcm9tID0gew0KICAgICAgICAgIG1ldGhvZDogbG9naW5NZXRob2QsDQogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWVGb3JtLnVzZXJuYW1lLA0KICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXJuYW1lRm9ybS5wYXNzd29yZCwNCiAgICAgICAgICByZW1lbWJlck1lOiB0aGlzLnVzZXJuYW1lRm9ybS5yZW1lbWJlck1lDQogICAgICAgIH0NCiAgICAgIH1lbHNlIHsNCiAgICAgICAgbG9naW5Gcm9tID0gew0KICAgICAgICAgIG1ldGhvZDogbG9naW5NZXRob2QsDQogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuZW1haWxGb3JtLmVtYWlsLA0KICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLmVtYWlsRm9ybS5wYXNzd29yZCwNCiAgICAgICAgICByZW1lbWJlck1lOiB0aGlzLmVtYWlsRm9ybS5yZW1lbWJlck1lDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIOiwg+eUqHZ1ZXjkuK3nmoTnmbvlvZXor7fmsYLlh73mlbANCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyTW9kZWwvTG9naW5SZXEnLCBsb2dpbkZyb20pLnRoZW4odmFsdWUgPT4gew0KICAgICAgICBpZiAodmFsdWUuc3VjY2Vzcykgew0KICAgICAgICAgIC8vIOaYvuekuueZu+W9leaIkOWKn+aPkOekug0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogdmFsdWUubXNnLA0KICAgICAgICAgICAgY2VudGVyOiB0cnVlLA0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgZHVyYXRpb246IDEwMDAqMywNCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLy8gM+enkuWQjui/lOWbnuS4iuS4gOe6pw0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsNCiAgICAgICAgICB9LCAxMDAwICogMykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDmj5DnpLrnmbvlvZXlpLHotKUNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IHZhbHVlLm1zZywNCiAgICAgICAgICAgIGNlbnRlcjogdHJ1ZSwNCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwKjUsDQogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC8vIOa4heepuui+k+WFpeahhueahOaVsOaNrg0KICAgICAgICAgIGlmIChsb2dpbk1ldGhvZCA9PT0gJ3VzZXJuYW1lJykgew0KICAgICAgICAgICAgdGhpcy51c2VybmFtZUZvcm0gPSB7DQogICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICAgICAgICByZW1lbWJlck1lOiBmYWxzZSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuZW1haWxGb3JtID0gew0KICAgICAgICAgICAgICBlbWFpbDogJycsDQogICAgICAgICAgICAgIHBhc3N3b3JkOiAnJywNCiAgICAgICAgICAgICAgcmVtZW1iZXJNZTogZmFsc2UsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyDop6PpmaTliqDovb3liqjnlLsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goIGVycm9yID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KDQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZQ0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLA0KICAgICAgICAgICAgY2VudGVyOiB0cnVlLA0KICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwICogNSwNCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgIH0sIDUwMDApDQogICAgICB9KQ0KICAgIH0sDQogICAgZ29SZWdpc3RlcigpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogJy9yZWdpc3RlcicNCiAgICAgIH0pDQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["LoginMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginMain.vue","sourceRoot":"src/components/Login&Register","sourcesContent":["<template>\r\n<div id=\"login-main\">\r\n  <el-row tag=\"div\">\r\n    <!-- 768px以上 - 1200px以下的登录表单 -->\r\n    <!-- 用户名登录表单 -->\r\n    <el-col class=\"form hidden-xs-only hidden-lg-and-up\" v-if=\"swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">邮箱登录</span></div>\r\n      <el-form :model=\"usernameForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"150px\">\r\n        <el-form-item  label=\"用户名\" prop=\"username\">\r\n          <el-input type=\"text\" v-model=\"usernameForm.username\" autocomplete=\"off\" placeholder=\"输入你注册时的用户名哟~\" style=\"padding-right: 150px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"usernameForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 150px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"usernameForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[0])\">登录</el-button>\r\n          <el-button @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n    <!-- 邮箱登录表单 -->\r\n    <el-col class=\"form hidden-xs-only hidden-lg-and-up\" v-if=\"!swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">用户名登录</span></div>\r\n      <el-form :model=\"emailForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"150px\">\r\n        <el-form-item  label=\"邮箱\" prop=\"email\">\r\n          <el-input type=\"text\" v-model=\"emailForm.email\" autocomplete=\"off\" placeholder=\"输入你注册时的邮箱哟~\" style=\"padding-right: 150px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"emailForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 150px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"emailForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[1])\">登录</el-button>\r\n          <el-button  @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n\r\n    <!-- 1200px以上 - 1920px以下的登录表单 -->\r\n    <!-- 用户名登录表单 -->\r\n    <el-col class=\"form hidden-md-and-down hidden-xl-only\" v-if=\"swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">邮箱登录</span></div>\r\n      <el-form :model=\"usernameForm\" status-icon :rule=\"rules\" ref=\"ruleForm\" label-width=\"300px\">\r\n        <el-form-item  label=\"用户名\" prop=\"username\">\r\n          <el-input type=\"text\" v-model=\"usernameForm.username\" autocomplete=\"off\" placeholder=\"输入你注册时的用户名哟~\" style=\"padding-right: 300px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"usernameForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 300px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"usernameForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[0])\">登录</el-button>\r\n          <el-button @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n    <!-- 邮箱登录表单 -->\r\n    <el-col class=\"form hidden-md-and-down hidden-xl-only\" v-if=\"!swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">用户名登录</span></div>\r\n      <el-form :model=\"emailForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"300px\">\r\n        <el-form-item  label=\"邮箱\" prop=\"email\">\r\n          <el-input type=\"text\" v-model=\"emailForm.email\" autocomplete=\"off\" placeholder=\"输入你注册时的邮箱哟~\" style=\"padding-right: 300px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"emailForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 300px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"emailForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[1])\">登录</el-button>\r\n          <el-button  @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n\r\n    <!-- 1920px以上的登录表单-->\r\n    <!-- 用户名登录表单 -->\r\n    <el-col class=\"form hidden-lg-and-down\" v-if=\"swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">邮箱登录</span></div>\r\n      <el-form :model=\"usernameForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"500px\">\r\n        <el-form-item  label=\"用户名\" prop=\"username\">\r\n          <el-input type=\"text\" v-model=\"usernameForm.username\" autocomplete=\"off\" placeholder=\"输入你注册时的用户名哟~\" style=\"padding-right: 500px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"usernameForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 500px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"usernameForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[0])\">登录</el-button>\r\n          <el-button @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n    <!-- 邮箱登录表单 -->\r\n    <el-col class=\"form hidden-lg-and-down\" v-if=\"!swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">用户名登录</span></div>\r\n      <el-form :model=\"emailForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"500px\">\r\n        <el-form-item  label=\"邮箱\" prop=\"email\">\r\n          <el-input type=\"text\" v-model=\"emailForm.email\" autocomplete=\"off\" placeholder=\"输入你注册时的邮箱哟~\" style=\"padding-right: 500px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"emailForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" style=\"padding-right: 500px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"emailForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[1])\">登录</el-button>\r\n          <el-button  @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n\r\n    <!-- 768px及以下的登录表单 -->\r\n    <!-- 用户名登录表单 -->\r\n    <el-col class=\"form hidden-sm-and-up\" v-if=\"swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">邮箱登录</span></div>\r\n      <el-form :model=\"usernameForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position=\"top\">\r\n        <el-form-item  label=\"用户名\" prop=\"username\" style=\"text-align: center\">\r\n          <el-input type=\"text\" v-model=\"usernameForm.username\" autocomplete=\"off\" placeholder=\"输入你注册时的用户名哟~\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\" style=\"text-align: center\">\r\n          <el-input type=\"password\" v-model=\"usernameForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"usernameForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[0])\">登录</el-button>\r\n          <el-button @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n    <!-- 邮箱登录表单 -->\r\n    <el-col class=\"form hidden-sm-and-up\" v-if=\"!swicth\">\r\n      <div class=\"switch-button\"><span @click=\"swicth = !swicth\">用户名登录</span></div>\r\n      <el-form :model=\"emailForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position=\"top\">\r\n        <el-form-item  label=\"邮箱\" prop=\"email\" style=\"text-align: center\">\r\n          <el-input type=\"text\" v-model=\"emailForm.email\" autocomplete=\"off\" placeholder=\"输入你注册时的邮箱哟~\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\" style=\"text-align: center\">\r\n          <el-input type=\"password\" v-model=\"emailForm.password\" autocomplete=\"off\" placeholder=\"输入你的密码哟~\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\r\n          <el-checkbox v-model=\"emailForm.rememberMe\">记住我</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center\" label-width=\"0\">\r\n          <el-button type=\"primary\" :disabled=\"disabled\" :loading=\"loading\" @click=\"submitForm(loginMethods[1])\">登录</el-button>\r\n          <el-button  @click=\"goRegister\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n\r\n  </el-row>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"LoginMain\",\r\n  data() {\r\n    var validateUsername = (rule, value, callback) => {\r\n      // 验证用户名的正则表达式\r\n      let regLetter = /^[A-Za-z0-9]+$/;\r\n\r\n      if (value === '') {\r\n        callback(new Error('输入你注册时的用户名呀~'));\r\n      } else if (regLetter.test(value) !== true) {\r\n        callback(new Error('用户名不符合啦！'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateEmail = (rule, value, callback) => {\r\n      // 验证邮箱的正则表达式\r\n      let regEmail = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/;\r\n\r\n      if (value === '') {\r\n        callback(new Error('输入你注册时的邮箱呀~'));\r\n      } else if (regEmail.test(value) !== true) {\r\n        callback(new Error('邮箱不符合啦！'))\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('输入你的密码呀~'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      swicth: true,\r\n      loading: false,\r\n      disabled: false,\r\n      loginMethods: ['username', 'email'],\r\n      usernameForm: {\r\n        username: '',\r\n        password: '',\r\n        rememberMe: false,\r\n      },\r\n      emailForm: {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false,\r\n      },\r\n      rules: {\r\n        username: [\r\n          {validator: validateUsername, trigger: 'blur'}\r\n        ],\r\n        email: [\r\n          {validator: validateEmail, trigger: 'blur'}\r\n        ],\r\n        password: [\r\n          {validator: validatePass, trigger: 'blur'}\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(loginMethod) {\r\n      // 开启登录按钮的加载动画\r\n      this.loading = true;\r\n      // axios异步任务强行变为同步任务\r\n      let loginFrom = null;\r\n      console.log(this.$store)\r\n      if (loginMethod === 'username') {\r\n        // 将表单的数据进行封装\r\n        loginFrom = {\r\n          method: loginMethod,\r\n          username: this.usernameForm.username,\r\n          password: this.usernameForm.password,\r\n          rememberMe: this.usernameForm.rememberMe\r\n        }\r\n      }else {\r\n        loginFrom = {\r\n          method: loginMethod,\r\n          username: this.emailForm.email,\r\n          password: this.emailForm.password,\r\n          rememberMe: this.emailForm.rememberMe\r\n        }\r\n      }\r\n      // 调用vuex中的登录请求函数\r\n      this.$store.dispatch('userModel/LoginReq', loginFrom).then(value => {\r\n        if (value.success) {\r\n          // 显示登录成功提示\r\n          this.$message({\r\n            message: value.msg,\r\n            center: true,\r\n            type: 'success',\r\n            duration: 1000*3,\r\n            showClose: true\r\n          })\r\n          // 3秒后返回上一级\r\n          setTimeout(() => {\r\n            this.$router.go(-1);\r\n          }, 1000 * 3)\r\n        } else {\r\n          // 提示登录失败\r\n          this.$message({\r\n            message: value.msg,\r\n            center: true,\r\n            type: 'warning',\r\n            duration: 1000*5,\r\n            showClose: true\r\n          })\r\n          // 清空输入框的数据\r\n          if (loginMethod === 'username') {\r\n            this.usernameForm = {\r\n              username: '',\r\n              password: '',\r\n              rememberMe: false,\r\n            };\r\n          } else {\r\n            this.emailForm = {\r\n              email: '',\r\n              password: '',\r\n              rememberMe: false,\r\n            };\r\n          }\r\n          // 解除加载动画\r\n          this.loading = false;\r\n        }\r\n      }).catch( error => {\r\n        console.log(error);\r\n\r\n        this.loading = false;\r\n        this.disabled = true\r\n        this.$message({\r\n            message: error,\r\n            center: true,\r\n            type: \"error\",\r\n            duration: 1000 * 5,\r\n            showClose: true\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.disabled = false;\r\n        }, 5000)\r\n      })\r\n    },\r\n    goRegister() {\r\n      this.$router.push({\r\n        path: '/register'\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#login-main {\r\n\r\n  margin-bottom: 100px;\r\n}\r\n.form {\r\n  height: 342px;\r\n}\r\n.switch-button {\r\n  text-align: center;\r\n  margin-top: -35px;\r\n  margin-bottom: 25px;\r\n}\r\n.switch-button span {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  color: blue;\r\n}\r\n\r\n\r\n</style>"]}]}