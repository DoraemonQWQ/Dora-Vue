{"remainingRequest":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hequanshawu/code/dora-vue/Dora-Vue/src/components/Anime/FilterBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/src/components/Anime/FilterBox.vue","mtime":1634736456000},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/cache-loader/dist/cjs.js","mtime":1634793903993},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/babel-loader/lib/index.js","mtime":1634793907255},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/cache-loader/dist/cjs.js","mtime":1634793903993},{"path":"/Users/hequanshawu/code/dora-vue/Dora-Vue/node_modules/vue-loader/lib/index.js","mtime":1634793909391}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJGbHRlckJveCIsDQogIGRhdGEoKSB7DQogICAgbGV0IHllYXJzID0gWw0KICAgICAgICAn5YWo6YOoJywNCiAgICAgICAgJzIwMTUnLA0KICAgICAgICAnMjAxNicsDQogICAgICAgICcyMDE3JywNCiAgICAgICAgJzIwMTgnLA0KICAgICAgICAnMjAxOScsDQogICAgICAgICcyMDIwJywNCiAgICAgICAgJzIwMjEnDQogICAgXTsNCiAgICBsZXQgYXJlYSA9IFsNCiAgICAgICAgJ+WFqOmDqCcsDQogICAgICAgICfml6XmnKwnLA0KICAgICAgICAn5Lit5Zu9Jw0KICAgIF07DQogICAgLy8g5bm05Lu96KKr6YCJ5Lit55qE57Si5byVDQogICAgbGV0IHllYXJQaWNrSW5kZXggPSAwOw0KICAgIC8vIOWcsOWMuuiiq+mAieaLqeeahOe0ouW8lQ0KICAgIGxldCBhcmVhUGlja0luZGV4ID0gMDsNCiAgICAvLyDooqvpgInkuK3nmoTmoIfnrb4NCiAgICBsZXQgcGlja0l0ZW0gPSBuZXcgTWFwKFsNCiAgICAgICAgWyd5ZWFyJywgMF0sDQogICAgICAgIFsneWVhci1kYXRhJywgJyddLA0KICAgICAgICBbJ2FyZWEnLCAwXSwNCiAgICAgICAgWydhcmVhLWRhdGEnLCAnJ10NCiAgICBdKTsNCg0KICAgIHJldHVybiB7DQogICAgICB5ZWFycywNCiAgICAgIGFyZWEsDQogICAgICBhcmVhUGlja0luZGV4LA0KICAgICAgeWVhclBpY2tJbmRleCwNCiAgICAgIHBpY2tJdGVtLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFyZWFQaWNrKGluZGV4KSB7DQogICAgICAvLyB0aGlzLmFyZWFQaWNrSW5kZXggPSBpbmRleDsNCiAgICAgIHRoaXMucGlja0l0ZW0uc2V0KCdhcmVhJyxpbmRleCk7DQogICAgICB0aGlzLnBpY2tJdGVtLnNldCgnYXJlYS1kYXRhJyx0aGlzLmFyZWFbaW5kZXhdKTsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhbmltZU1vZGVsL1NldFBpY2tNYXAnLCB7DQogICAgICAgIHllYXI6IHRoaXMucGlja0l0ZW0uZ2V0KCd5ZWFyLWRhdGEnKSwNCiAgICAgICAgYXJlYTogdGhpcy5waWNrSXRlbS5nZXQoJ2FyZWEtZGF0YScpLA0KICAgICAgICBwaWNrTWFwOiB0aGlzLnBpY2tJdGVtDQogICAgICB9KTsNCg0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAnL2FuaW1lJywNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBhcmVhOiB0aGlzLnBpY2tJdGVtLmdldCgnYXJlYScpLA0KICAgICAgICAgIHllYXI6IHRoaXMucGlja0l0ZW0uZ2V0KCd5ZWFyJykNCiAgICAgICAgfQ0KDQogICAgICB9KQ0KDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBpY2tJdGVtKQ0KICAgIH0sDQogICAgeWVhclBpY2soaW5kZXgpIHsNCiAgICAgIC8vIHRoaXMueWVhclBpY2tJbmRleCA9IGluZGV4Ow0KICAgICAgdGhpcy5waWNrSXRlbS5zZXQoJ3llYXInLCBpbmRleCk7DQogICAgICB0aGlzLnBpY2tJdGVtLnNldCgneWVhci1kYXRhJywgdGhpcy55ZWFyc1tpbmRleF0pOw0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FuaW1lTW9kZWwvU2V0UGlja01hcCcsIHsNCiAgICAgICAgeWVhcjogdGhpcy5waWNrSXRlbS5nZXQoJ3llYXItZGF0YScpLA0KICAgICAgICBhcmVhOiB0aGlzLnBpY2tJdGVtLmdldCgnYXJlYS1kYXRhJyksDQogICAgICAgIHBpY2tNYXA6IHRoaXMucGlja0l0ZW0NCiAgICAgIH0pOw0KDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6ICcvYW5pbWUnLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIGFyZWE6IHRoaXMucGlja0l0ZW0uZ2V0KCdhcmVhJyksDQogICAgICAgICAgeWVhcjogdGhpcy5waWNrSXRlbS5nZXQoJ3llYXInKQ0KICAgICAgICB9DQoNCiAgICAgIH0pDQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGlja0l0ZW0pDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICckcm91dGUnOiB7DQogICAgICBoYW5kbGVyKHRvKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRvKQ0KICAgICAgICB0aGlzLmFyZWFQaWNrSW5kZXggPSB0by5xdWVyeS5hcmVhID09PSB1bmRlZmluZWQgPyAwIDogcGFyc2VJbnQodG8ucXVlcnkuYXJlYSwxMCk7DQogICAgICAgIHRoaXMueWVhclBpY2tJbmRleCA9IHRvLnF1ZXJ5LnllYXIgPT09IHVuZGVmaW5lZCA/IDAgOiBwYXJzZUludCh0by5xdWVyeS55ZWFyLDEwKTsNCiAgICAgICAgdGhpcy5waWNrSXRlbS5zZXQoJ2FyZWEnLHRoaXMuYXJlYVBpY2tJbmRleCk7DQogICAgICAgIHRoaXMucGlja0l0ZW0uc2V0KCd5ZWFyJyx0aGlzLnllYXJQaWNrSW5kZXgpOw0KICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYW5pbWVNb2RlbC9TZXRQaWNrTWFwJywgew0KICAgICAgICAgIHllYXI6IHRoaXMucGlja0l0ZW0uZ2V0KCd5ZWFyLWRhdGEnKSwNCiAgICAgICAgICBhcmVhOiB0aGlzLnBpY2tJdGVtLmdldCgnYXJlYS1kYXRhJyksDQogICAgICAgICAgcGlja01hcDogdGhpcy5waWNrSXRlbQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5hcmVhUGlja0luZGV4ID0gdGhpcy4kcm91dGUucXVlcnkuYXJlYSA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnF1ZXJ5LmFyZWEsMTApOw0KICAgIHRoaXMueWVhclBpY2tJbmRleCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnllYXIgPT09IHVuZGVmaW5lZCA/IDAgOiBwYXJzZUludCh0aGlzLiRyb3V0ZS5xdWVyeS55ZWFyLDEwKTsNCiAgICB0aGlzLnBpY2tJdGVtLnNldCgnYXJlYScsdGhpcy5hcmVhUGlja0luZGV4KTsNCiAgICB0aGlzLnBpY2tJdGVtLnNldCgneWVhcicsdGhpcy55ZWFyUGlja0luZGV4KTsNCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYW5pbWVNb2RlbC9TZXRQaWNrTWFwJywgew0KICAgICAgeWVhcjogdGhpcy5waWNrSXRlbS5nZXQoJ3llYXItZGF0YScpLA0KICAgICAgYXJlYTogdGhpcy5waWNrSXRlbS5nZXQoJ2FyZWEtZGF0YScpLA0KICAgICAgcGlja01hcDogdGhpcy5waWNrSXRlbQ0KICAgIH0pOw0KICB9DQoNCn0NCg=="},{"version":3,"sources":["FilterBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"FilterBox.vue","sourceRoot":"src/components/Anime","sourcesContent":["<template>\r\n<div id=\"filter-box\">\r\n  <el-row tag=\"div\" >\r\n    <el-col tag=\"div\" class=\"filter\">\r\n        <div class=\"type\">\r\n          <span class=\"title\">年份</span>\r\n          <div class=\"bordel-title\"></div>\r\n          <ul >\r\n            <li v-for=\"(item, index) of years\" :key=\"item\" @click=\"yearPick(index)\" :class=\"{'pick-box':yearPickIndex === index}\">\r\n              <span>{{ item }}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n      <div class=\"type\">\r\n        <span class=\"title\">地区</span>\r\n        <div class=\"bordel-title\"></div>\r\n        <ul>\r\n          <li v-for=\"(item, index) of area\" :key=\"item\" @click=\"areaPick(index)\" :class=\"{'pick-box':areaPickIndex  === index}\">\r\n            <span>{{item}}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"FlterBox\",\r\n  data() {\r\n    let years = [\r\n        '全部',\r\n        '2015',\r\n        '2016',\r\n        '2017',\r\n        '2018',\r\n        '2019',\r\n        '2020',\r\n        '2021'\r\n    ];\r\n    let area = [\r\n        '全部',\r\n        '日本',\r\n        '中国'\r\n    ];\r\n    // 年份被选中的索引\r\n    let yearPickIndex = 0;\r\n    // 地区被选择的索引\r\n    let areaPickIndex = 0;\r\n    // 被选中的标签\r\n    let pickItem = new Map([\r\n        ['year', 0],\r\n        ['year-data', ''],\r\n        ['area', 0],\r\n        ['area-data', '']\r\n    ]);\r\n\r\n    return {\r\n      years,\r\n      area,\r\n      areaPickIndex,\r\n      yearPickIndex,\r\n      pickItem,\r\n    }\r\n  },\r\n  methods: {\r\n    areaPick(index) {\r\n      // this.areaPickIndex = index;\r\n      this.pickItem.set('area',index);\r\n      this.pickItem.set('area-data',this.area[index]);\r\n      this.$store.dispatch('animeModel/SetPickMap', {\r\n        year: this.pickItem.get('year-data'),\r\n        area: this.pickItem.get('area-data'),\r\n        pickMap: this.pickItem\r\n      });\r\n\r\n      this.$router.push({\r\n        path: '/anime',\r\n        query: {\r\n          area: this.pickItem.get('area'),\r\n          year: this.pickItem.get('year')\r\n        }\r\n\r\n      })\r\n\r\n      // console.log(this.pickItem)\r\n    },\r\n    yearPick(index) {\r\n      // this.yearPickIndex = index;\r\n      this.pickItem.set('year', index);\r\n      this.pickItem.set('year-data', this.years[index]);\r\n      this.$store.dispatch('animeModel/SetPickMap', {\r\n        year: this.pickItem.get('year-data'),\r\n        area: this.pickItem.get('area-data'),\r\n        pickMap: this.pickItem\r\n      });\r\n\r\n      this.$router.push({\r\n        path: '/anime',\r\n        query: {\r\n          area: this.pickItem.get('area'),\r\n          year: this.pickItem.get('year')\r\n        }\r\n\r\n      })\r\n\r\n      // console.log(this.pickItem)\r\n    }\r\n  },\r\n  watch: {\r\n    '$route': {\r\n      handler(to) {\r\n        // console.log(to)\r\n        this.areaPickIndex = to.query.area === undefined ? 0 : parseInt(to.query.area,10);\r\n        this.yearPickIndex = to.query.year === undefined ? 0 : parseInt(to.query.year,10);\r\n        this.pickItem.set('area',this.areaPickIndex);\r\n        this.pickItem.set('year',this.yearPickIndex);\r\n        this.$store.dispatch('animeModel/SetPickMap', {\r\n          year: this.pickItem.get('year-data'),\r\n          area: this.pickItem.get('area-data'),\r\n          pickMap: this.pickItem\r\n        });\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.areaPickIndex = this.$route.query.area === undefined ? 0 : parseInt(this.$route.query.area,10);\r\n    this.yearPickIndex = this.$route.query.year === undefined ? 0 : parseInt(this.$route.query.year,10);\r\n    this.pickItem.set('area',this.areaPickIndex);\r\n    this.pickItem.set('year',this.yearPickIndex);\r\n    this.$store.dispatch('animeModel/SetPickMap', {\r\n      year: this.pickItem.get('year-data'),\r\n      area: this.pickItem.get('area-data'),\r\n      pickMap: this.pickItem\r\n    });\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.filter {\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  border-bottom: #145672 1px solid;\r\n}\r\n\r\n.type {\r\n  padding: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  margin: 0;\r\n  display: inline-block;\r\n}\r\n.title {\r\n  padding: 5px 10px;\r\n  color: #FFFFFF;\r\n  background-color: #00a6ff;\r\n  border-radius: 15px;\r\n}\r\n.bordel-title {\r\n  width: 200px;\r\n  height: 1px;\r\n  padding-top: 10px;\r\n  border-bottom: 1px #00a6ff solid;\r\n  margin-left: 50px;\r\n}\r\n\r\n.type ul {\r\n  padding: 0 50px;\r\n}\r\n\r\n.type ul li {\r\n  list-style: none;\r\n  padding: 5px 10px;\r\n  margin: 0;\r\n  float: left;\r\n  display: block;\r\n}\r\n.type ul li span {\r\n  cursor: pointer;\r\n}\r\n.pick-box {\r\n  color: #00a6ff;\r\n  pointer-events: none;\r\n}\r\n\r\n</style>"]}]}